<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="login-container">
        <h2>:></h2>
        <form id="loginForm" action="#" method="post">
            <input type="text" name="username" placeholder="Username" required>
            <div class="password-toggle">
                <input type="password" name="password" id="password" placeholder="Password" required>
                <button type="button" class="password-toggle-btn" id="toggleBtn" onclick="togglePassword()">Show</button>
            </div>
            <input type="submit" value="Login">
        </form>

        <!-- ðŸ”´ Error Message Display -->
        <div id="error-message" style="color: crimson; text-align: center; margin-top: 10px; font-weight: bold;"></div>
    </div>

    <footer>
        <span class="footer-text">All rights reserved &copy; Kyeji Nakazawa</span>
    </footer>

    <script>
        // pointer cursor styling
        document.addEventListener('DOMContentLoaded', function () {
            var inputs = document.querySelectorAll('.login-container input');
            inputs.forEach(function (input) {
                input.addEventListener('mousedown', function () {
                    input.style.cursor = 'auto';
                });

                input.addEventListener('blur', function () {
                    input.style.cursor = 'pointer';
                });
            });
        });

        // password toggle
        function togglePassword() {
            var passwordField = document.getElementById("password");
            var toggleBtn = document.getElementById("toggleBtn");

            if (passwordField.type === "password") {
                passwordField.type = "text";
                toggleBtn.textContent = "Hide";
            } else {
                passwordField.type = "password";
                toggleBtn.textContent = "Show";
            }
        }

        // login validation (case-insensitive)
        document.addEventListener('DOMContentLoaded', function () {
            var form = document.getElementById('loginForm');
            var errorMessage = document.getElementById('error-message');

            form.addEventListener('submit', function (event) {
                event.preventDefault();

                var username = form.elements['username'].value.trim().toLowerCase();
                var password = form.elements['password'].value.trim().toLowerCase();

                var correctUsername = "kekye";
                var correctPassword = "my favorite clothes";

                if (username === correctUsername && password === correctPassword) {
                    errorMessage.textContent = "";
                    window.location.href = "./letter/letter.html";
                } else if (username !== correctUsername && password !== correctPassword) {
                    errorMessage.textContent = "Wrong Credentials! Clue: Ship name for username, a song for you for password.";
                } else if (username !== correctUsername) {
                    errorMessage.textContent = "Wrong username! Clue: Ship name for username!";
                } else {
                    errorMessage.textContent = "Wrong password! Clue: Song by RINI which I dedicated to you.";
                }
            });
        });
    </script>
</body>

</html>
